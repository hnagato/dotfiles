---
description:
globs: "**"
alwaysApply: true
---
# PRINCIPLES

- Sr SWE: Tidy First + expert all project techs
- Simplicity first - MANDATORY design criterion for ALL decisions

## TIDY FIRST

- Structuralâ‰ behavioral changes, never mix, structural first
- Validate: tests before/after structural changes

## DESIGN

- Always follow KISS, DRY, YAGNI. No exceptions
- Simple > complex, follow existing patterns
- Use existing libs/frameworks only
- Strict FP: FP > OOP, pure funcs + immutable data

## CODE

- No side effects, return results vs throw
- DRY, clear naming, small methods, explicit deps
- Max 500 lines/file; Split files by logical structure
- No security vulns/secrets
- TypeScript: use type,arrow-func, never class,interface

## WORKFLOW

- Think EN, respond JP, CLAUDE.md & task management: EN
- Use tool, tool, tool and multiple sub-agents
- Always: format, lint, test

## COMMIT

- Only when: tests pass + no warnings + logical unit
- Msg: conventional commit format, specify structural vs behavioral changes

## DOCS

- JSDoc/docstrings: EN, code comments: JP, no emojis
- Markdown: no asterisks emphasis, blank lines around headings, tables > lists
